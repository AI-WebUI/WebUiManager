<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Dialog提示组件</title>
    <link rel="stylesheet" type="text/css" href="../../css/base.css"/>
    <!--<link rel="stylesheet" href="../../css/font-awesome.css">-->
    <link rel="stylesheet" href="../../css/demoApi.css">
    <link rel="stylesheet" type="text/css" href="../../../../webui/1.0.0/pc/css/webui.css">
    <link rel="stylesheet" href="../../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../css/prettify.css"/>
    <style>
        body{
            height: 1200px;
        }
        .prettyprint ol.linenums {
            background: #f8f8f8 !important;
        }
        .panel-body{
            padding:0;
        }
    </style>
</head>
<body>
<span class="first_title">WEBUI PC端dialog提示组件</span>
<ul class="nav nav-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#result" aria-controls="result" role="tab"
                                              data-toggle="tab">样式和参数</a></li>
    <li role="presentation"><a href="#Html" aria-controls="Html" role="tab" data-toggle="tab">代码</a></li>
</ul>
<div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="result">
        <div class="cont">
            <h4>dialog使用案例</h4>
            <div class="aries_demo bs-example">
                <p>用html加载</p>
                <div id="dd" class="webui-dialog" title="My Dialog" style="width:400px;height:200px;"
                     data-options="iconCls:'icon-save',resizable:true,modal:true,closed:true">
                    Dialog Content.
                </div>
                <a href="#" class="webui-linkbutton btn-blue" onclick="$('#dd').dialog('open')">Open</a>

                <p>用js加载dialog提示</p>

                <div id="dl">Dialog Content.</div>
                <a href="#" class="webui-linkbutton btn-blue" onclick="$('#dl').dialog('open')">Open</a>

                <div id="dt"></div>
                <div id="footer">
                    <a  class="webui-linkbutton btn-blue">Save</a>
                    <a  class="webui-linkbutton btn-blue" onclick="$('#dt').dialog('close')">Close</a>
                </div>

                <p>用dialog加载datagrid表格</p>
                <div id="datagrid">
                </div>
                <a  class="webui-linkbutton btn-blue open ">打开</a>

                <p>用dialog加载内容</p>
                <div id="window"></div>
                <a  class="webui-linkbutton btn-blue story">打开</a>
            </div>
        </div>
        <p style="margin-left:20px;">
            <a target="_blank" href="http://www.jeasyui.net/plugins/181.html">Dialog帮助网站http://www.jeasyui.net/plugins/181.html</a>
        </p>
        <p style="margin-left:20px;">
            <a target="_blank" href="http://www.runoob.com/jeasyui/jeasyui-win-dlg2.html">Dialog扩展案例</a>
        </p>

    </div>
    <div role="tabpanel" class="tab-pane" id="Html">
      <pre class="prettyprint">
      </pre>
    </div>
</div>
<script type="text/javascript" src="../../../lib/jquery/1.11.3/jquery.js"></script>
<!--<script type="text/javascript" src="../../js/rainbow.min.js"></script>-->
<script type="text/javascript" src="../../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../js/prettify.js"></script>
<script type="text/javascript" src="../../../../webui/1.0.0/pc/js/webui.js"></script>
<script type="text/javascript" src="../../js/handlebars.js"></script>
<script src="../../js/iframefit.js"></script>
<script class="code">

       $('#dl').dialog({
           title: 'My Dialog',
           top: 200,
           left: 458,
           width: 400,
           height: 200,
           closed: true,
           cache: false,
           href: 'get_content.php',
           modal: true
       });
       //                    $('#dl').dialog('refresh', 'data/datagrid.jsp');
       $('#dt').dialog({
           left: 458,
           top: 200,
           title: '顾客预订信息',
           inline: false,
           closed: true,
           width: 600,
           height: 450,
           cache: false,
           buttons: "#footer",
           shadow: false,
           modal: true
       });
       $('#dt').dialog('refresh', 'data/bookinfo.jsp');
       $(".open").click(function(){
           $('#datagrid').dialog({
               title: '欠费号码：13588489705',
               width: 535,
               height: 420,
               closed: false,
               cache: false,
               onClose: function () {
                   $('#datagrid').dialog('clear')
               },
               onBeforeOpen:function(){
                   var dialog=$("#datagrid").dialog("body");
                   dialog.append("<table class='shuju''></table>");
                   $('.shuju').datagrid({
                       width:475,
                       autoRowHeight:true,
                       //height: 266,
                       url: 'data/datagrid_data2.json',
                       method: 'get',
                       scrollbarSize:0,
//                                pagination: true, //显示分页工具栏
                       singleSelect: true,//只能单选行
                       loadMsg: '请稍候，数据加载中...',//自定义等待消息
                       columns: [[
                           {field: 'itemid', title: '号码', width: 75, editor: 'numberbox', align: 'center'},
                           {field: 'productid', title: '姓名', width: 75, editor: 'text', align: 'center' },
                           {
                               field: 'listprice',
                               title: '地区',
                               width: 100,
                               editor: 'numberbox',
                               align: 'center'
                           },
                           {field: 'unitcost', title: '有效期', width: 75, editor: 'text', align: 'center'},
                           {field: 'attr1', title: '规格', width: 75, editor: 'text', align: 'center'},
                           {field: 'status', title: '状态', width: 70, editor: 'text', align: 'center'},
                           //{field:'togher'}
                       ]]
                   });
               },
               modal: true,
               buttons:[{
                   text:'确定',
                   handler:function(){
                       //success.init({
                       //    title: '政企宽带',
                       //    orderId: '0120981293',
                       //    callbackList: _callbackList
                       //}).appendTo($(".container"));
                       $("#datagrid").dialog("close")
                   }
               },{
                   text:'关闭',
                   handler:function(){
                       $("#datagrid").dialog("close")
//                                $('#dd').dialog('clear')
                   }
               }]
           });
       })
       //加载内容
       var channelId="1000";
       var openedInfoEdit=false
       $(".story").click(
               function(){
                   var channelId="1000";
                   var openedInfoEdit=false
                   if(!openedInfoEdit){
                       $('#window').dialog({
                           top:200,
                           left:458,
                           modal: true,
                           title:"编辑信息",
                           width:600,
                           height:200,
                           minimizable:false,
                           maximizable:true,
                           //resizable:true,
                           //cache: true,
                           content:"<div class='html'></div>",
                           closable: true,
                           closed: true  ,
                           onClose: function () {
                               $('#window').dialog('clear')
                           }
                       });
                       $('#window').dialog('open'); //再open
                       openedInfoEdit=true;
                   } else {
                       $('#window').dialog('open'); //先open再refresh
                       $('#infoEdit').dialog('refresh',"data/bookinfo.jsp");
                   }
               }
       )
</script>
<script>
    var html = $('.code').html();
    $("pre").text(html).addClass("prettyprint linenums");
    prettyPrint();
</script>
</body>
</html>
